# Linux + Git Cheat Sheet

## Linux

### Навигация
- `pwd` — показать путь к текущей директории
- `ls -la` — список файлов с правами и датами
- `cd <dir>` — перейти в директорию
- `cd ~` — перейти в домашний каталог
- `cd -` — вернуться в предыдущую директорию

### Работа с файлами
- `touch file` — создать пустой файл
- `echo "text" > file` — создать/перезаписать файл
- `cat file` — вывести содержимое
- `less file` — постраничный просмотр
- `head -n 5 file` / `tail -n 5 file` — первые/последние 5 строк

### Работа с папками
- `mkdir dir` — создать папку
- `ls -R` — рекурсивный список файлов и директорий

### Поиск и фильтрация (grep)
- `grep root /etc/passwd` — поиск строк, содержащих `root`
- `grep -nE '^(root|daemon)' /etc/passwd` — поиск строк, начинающихся с `root` или `daemon`, с номерами строк
- `grep -i "ssh" file` — поиск без учёта регистра
- `grep -C2 "pattern" file` — показать совпадение + 2 строки контекста
- `grep -R "text" /etc 2>/dev/null` — рекурсивный поиск текста во всех файлах
- `2>/dev/null` — скрыть сообщения об ошибках (нет доступа и т. п.)

### Поиск файлов (find)
- `find /etc -maxdepth 1 -type f -name "*.conf"` — все `.conf` файлы в `/etc` (только верхний уровень).
- `find /var/log -type f -mtime -1` — все файлы, изменённые за последние сутки.
- `find /var -type f -size +50M` — файлы больше 50 МБ в `/var`.
- Ключи:
  - `-type f` — искать только файлы.
  - `-type d` — искать директории.
  - `-name "*.txt"` — фильтр по имени.
  - `-mtime -N` — изменённые за последние N дней.
  - `-size +N` — файлы больше N (например, `+100M`).

### Пайпы и перенаправления
- `cmd1 | cmd2` — вывод cmd1 → вход cmd2
- `>` / `>>` — запись / дозапись stdout в файл
- `2>` — stderr в файл; `&>` — stdout+stderr вместе (bash)
- `2>/dev/null` — скрыть ошибки

### Подсчёты и группировки
- `wc -l` — количество строк
- `sort | uniq -c | sort -nr` — частотность по убыванию
- `xargs -r <cmd>` — передать список аргументов в команду

### awk (база)
- `awk -F: '{print $1, $7}' /etc/passwd` — выбрать поля
- `... | awk '{sum+=$1} END{print sum}'` — агрегаты (сумма/счётчик)

### Журналы (systemd-journald)
- `journalctl -u sshd --since "7 days ago"` — записи юнита sshd за неделю
- `journalctl -t sshd` — отфильтровать по идентификатору (tag)
- У систем с journald может не быть `/var/log/auth.log` → искать через `journalctl`

---

## Git

### Добавление файлов
- `git add <file>` — добавить конкретный файл в коммит
- `git add .` — добавить все изменения в текущей папке и подпапках
- `git add -A` — добавить все изменения во всём проекте (включая удалённые файлы)
- `git commit -am "msg"` — закоммитить все изменения отслеживаемых файлов (новые не попадут)

### Практика
- Если работаешь над конкретной задачей → `git add <file>` (чистые маленькие коммиты).
- Если делаешь фичу/ветку и готов коммитить всё → `git add .`.
- Если хочешь учесть даже удалённые файлы → `git add -A`.
